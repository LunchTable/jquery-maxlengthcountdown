/**
 *   jQuery maxlength-countdown
 *   Adds a "remaining characters" counter after any field with maxlength field.
 *
 *   Copyright 2013 Matt Baer
 */
(function(a){a.fn.maxlengthCountdown=function(b){var c={countClass:"count-me-down",suffixText:"",suffixTextSingular:"",before:true,visible:true};b=a.extend(c,b);if(b.suffixText!==""&&b.suffixTextSingular===""){b.suffixTextSingular=b.suffixText}return this.filter("input").not("[type=checkbox], [type=radio]").each(function(){var i=a(this),f;var d=i.attr("maxlength");var e=function(){if(b.before){i.before("<div />");f=i.prev("div")}else{i.after("<div />");f=i.next("div")}f.addClass(b.countClass).text(d+" "+b.suffixText)};var h=function(){f.remove()};var g=function(){var j=d-i.val().length;f.text(j+" "+(j===1?b.suffixTextSingular:b.suffixText))};if(d!==undefined&&d>0){if(b.visible){e();i.on("keyup blur",g)}else{i.on("focus",function(){a(this).off("focus");e();i.on("keyup blur",g)})}}})}})(jQuery);
